<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to MoffittFunctions • MoffittFunctions</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Introduction to MoffittFunctions">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MoffittFunctions</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/MoffittFunctions.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/wfulp/MoffittFunctions">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Introduction to MoffittFunctions</h1>
                        <h4 class="author">William (Jimmy) Fulp</h4>
            
            <h4 class="date">2019-03-15</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/wfulp/MoffittFunctions/blob/master/vignettes/MoffittFunctions.Rmd"><code>vignettes/MoffittFunctions.Rmd</code></a></small>
      <div class="hidden name"><code>MoffittFunctions.Rmd</code></div>

    </div>

    
    


<div id="overview" class="section level1">
<h1 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h1>
<p>MoffittFunctions is a collection of useful functions designed to assist in analysis and creation of professional reports. The current MoffittFunctions functions can be broken down to the following sections:</p>
<ul>
<li>Testing Functions
<ul>
<li>two_samp_bin_test</li>
<li>two_samp_cont_test</li>
<li>cor_test</li>
</ul>
</li>
<li>Fancy Output Functions
<ul>
<li>pretty_pvalues</li>
<li>stat_paste</li>
<li>paste_tbl_grp</li>
<li>pretty_model_output</li>
<li>run_pretty_model_output</li>
<li>pretty_km_output</li>
<li>run_pretty_km_output</li>
</ul>
</li>
<li>Utility Functions
<ul>
<li>round_away_0</li>
<li>get_session_info</li>
<li>get_full_name</li>
</ul>
</li>
<li>Example Dataset
<ul>
<li>Bladder_Cancer</li>
</ul>
</li>
</ul>
<div id="getting-started" class="section level2">
<h2 class="hasAnchor">
<a href="#getting-started" class="anchor"></a>Getting Started</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="co"># Loading MoffittFunctions and Example Dataset</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">library</span>(MoffittFunctions)</a>
<a class="sourceLine" id="cb1-3" title="3"><span class="kw">data</span>(<span class="st">"Bladder_Cancer"</span>)</a>
<a class="sourceLine" id="cb1-4" title="4"></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="co"># Loading dplyr for this vignette code</span></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="kw">library</span>(dplyr)</a></code></pre></div>
</div>
<div id="moffitttemplates-package" class="section level2">
<h2 class="hasAnchor">
<a href="#moffitttemplates-package" class="anchor"></a>MoffittTemplates Package</h2>
<p>The <a href="https://gitlab.moffitt.usf.edu:8000/ReproducibleResearch/R_Markdown_Templates">MoffittTemplates</a> package makes extensive use of the <code>MoffittFunctions</code> package, and is a great way get started making professional statistical reports.</p>
<p>Code to initially download MoffittTemplates package:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1">cred =<span class="st"> </span>git2r<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/git2r/topics/cred_ssh_key">cred_ssh_key</a></span>(</a>
<a class="sourceLine" id="cb2-2" title="2">    <span class="dt">publickey =</span> <span class="st">"MYPATH/.ssh/id_rsa.pub"</span>, </a>
<a class="sourceLine" id="cb2-3" title="3">    <span class="dt">privatekey =</span> <span class="st">"MYPATH/.ssh/id_rsa"</span>)</a>
<a class="sourceLine" id="cb2-4" title="4"></a>
<a class="sourceLine" id="cb2-5" title="5">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/reexports">install_git</a></span>(</a>
<a class="sourceLine" id="cb2-6" title="6">  <span class="st">"git@gitlab.moffitt.usf.edu:ReproducibleResearch/R_Markdown_Templates.git"</span>, </a>
<a class="sourceLine" id="cb2-7" title="7">  <span class="dt">credentials =</span> cred)</a></code></pre></div>
<p>RStudio you can <strong>Global Options -&gt; Git/SVN</strong> to see SSH path, and to make SSH key if needed</p>
<p>Once installed, in RStudio go to <strong>File -&gt; New File -&gt; R Markdown -&gt; From Template -&gt; Moffitt PDF Report</strong> to start a new Markdown report using the template. Within the template there is code to load and make use of most of the <code>MoffittFunctions</code> functionality.</p>
</div>
<div id="example-dataset" class="section level2">
<h2 class="hasAnchor">
<a href="#example-dataset" class="anchor"></a>Example Dataset</h2>
<p>The <code>Bladder_Cancer</code> dataset is a real world example dataset used throughout this vignette and most example in the documentation. The dataset is cleaned, using factor variables for categorical variables, and also using labels for all variables (created by the <code><a href="http://www.rdocumentation.org/packages/Hmisc/topics/label">Hmisc::label()</a></code> function).</p>
</div>
</div>
<div id="testing-functions" class="section level1">
<h1 class="hasAnchor">
<a href="#testing-functions" class="anchor"></a>Testing Functions</h1>
<p>There are currently three testing functions, performing the appropriate statistical test depending on the data and options, returning a p value.</p>
<div id="comparing-two-groups-binary-variable-for-a-binary-variable" class="section level2">
<h2 class="hasAnchor">
<a href="#comparing-two-groups-binary-variable-for-a-binary-variable" class="anchor"></a>Comparing Two Groups (Binary Variable) for a Binary Variable</h2>
<p><code><a href="../reference/two_samp_bin_test.html">two_samp_bin_test()</a></code> is used for comparing a binary variable to a binary (two group) variable, with options for Barnard, Fisher’s Exact, Chi-Sq, and McNemar tests.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">table</span>(Bladder_Cancer<span class="op">$</span>Vital_Status, Bladder_Cancer<span class="op">$</span>PT0N0)</a>
<a class="sourceLine" id="cb3-3" title="3"><span class="co">#&gt;        </span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="co">#&gt;         No Completed Response Complete Response</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="co">#&gt;   Alive                    74                33</span></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="co">#&gt;   Dead                     57                 2</span></a>
<a class="sourceLine" id="cb3-7" title="7"></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="kw"><a href="../reference/two_samp_bin_test.html">two_samp_bin_test</a></span>(<span class="dt">x =</span> Bladder_Cancer<span class="op">$</span>Vital_Status, <span class="dt">y =</span> Bladder_Cancer<span class="op">$</span>PT0N0, </a>
<a class="sourceLine" id="cb3-9" title="9">                  <span class="dt">method =</span> <span class="st">'fisher'</span>)</a>
<a class="sourceLine" id="cb3-10" title="10"><span class="co">#&gt; [1] 0.00001536125</span></a></code></pre></div>
</div>
<div id="comparing-two-groups-binary-variable-for-a-continuous-variable" class="section level2">
<h2 class="hasAnchor">
<a href="#comparing-two-groups-binary-variable-for-a-continuous-variable" class="anchor"></a>Comparing Two Groups (Binary Variable) for a Continuous Variable</h2>
<p><code><a href="../reference/two_samp_cont_test.html">two_samp_cont_test()</a></code> is used for comparing a continuous variable to a binary (two group) variable, with parametric (t.test) and non-parametric (Wilcox Rank-Sum) options. Also pair data is allowed, where there are parametric (paired t.test) and non-parametric (Wilcox Signed-Rank) options.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">by</span>(Bladder_Cancer<span class="op">$</span>Survival_Days, Bladder_Cancer<span class="op">$</span>PT0N0, summary)</a>
<a class="sourceLine" id="cb4-3" title="3"><span class="co">#&gt; Bladder_Cancer$PT0N0: No Completed Response</span></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="co">#&gt;     3.0   315.0   593.0   896.6  1292.5  3873.0 </span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="co">#&gt; -------------------------------------------------------- </span></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="co">#&gt; Bladder_Cancer$PT0N0: Complete Response</span></a>
<a class="sourceLine" id="cb4-8" title="8"><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></a>
<a class="sourceLine" id="cb4-9" title="9"><span class="co">#&gt;      34     538     817    1096    1581    3137</span></a>
<a class="sourceLine" id="cb4-10" title="10"></a>
<a class="sourceLine" id="cb4-11" title="11"><span class="kw"><a href="../reference/two_samp_cont_test.html">two_samp_cont_test</a></span>(<span class="dt">x =</span> Bladder_Cancer<span class="op">$</span>Survival_Days, <span class="dt">y =</span> Bladder_Cancer<span class="op">$</span>PT0N0, </a>
<a class="sourceLine" id="cb4-12" title="12">                   <span class="dt">method =</span> <span class="st">'wilcox'</span>)</a>
<a class="sourceLine" id="cb4-13" title="13"><span class="co">#&gt; [1] 0.06303205</span></a></code></pre></div>
</div>
<div id="comparing-two-continuous-variables-correlation" class="section level2">
<h2 class="hasAnchor">
<a href="#comparing-two-continuous-variables-correlation" class="anchor"></a>Comparing Two Continuous Variables (Correlation)</h2>
<p><code><a href="../reference/cor_test.html">cor_test()</a></code> is used for comparing two continuous variables, with Pearson, Kendall, and Spearman methods. If Spearman method is chosen and either variable has a tie the approximate distribution is use in the <code>coin::spreaman_test()</code> function. This is usually the preferred method over the asymptotic approximation, which is the method <code>stats:cor.test()</code> uses in cases of ties.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw">cor</span>(Bladder_Cancer<span class="op">$</span>Age_At_Diagnosis, Bladder_Cancer<span class="op">$</span>Survival_Days, </a>
<a class="sourceLine" id="cb5-3" title="3">    <span class="dt">method =</span> <span class="st">'spearman'</span>)</a>
<a class="sourceLine" id="cb5-4" title="4"><span class="co">#&gt; [1] -0.13349</span></a>
<a class="sourceLine" id="cb5-5" title="5"></a>
<a class="sourceLine" id="cb5-6" title="6"><span class="kw"><a href="../reference/cor_test.html">cor_test</a></span>(<span class="dt">x =</span> Bladder_Cancer<span class="op">$</span>Age_At_Diagnosis, <span class="dt">y =</span> Bladder_Cancer<span class="op">$</span>Survival_Days,</a>
<a class="sourceLine" id="cb5-7" title="7">         <span class="dt">method =</span> <span class="st">'spearman'</span>)</a>
<a class="sourceLine" id="cb5-8" title="8"><span class="co">#&gt; [1] 0.0852</span></a></code></pre></div>
</div>
</div>
<div id="fancy-output-functions" class="section level1">
<h1 class="hasAnchor">
<a href="#fancy-output-functions" class="anchor"></a>Fancy Output Functions</h1>
<p>There are currently seven functions designed to produce professional output that can easily printed in reports.</p>
<div id="p-values" class="section level2">
<h2 class="hasAnchor">
<a href="#p-values" class="anchor"></a>P Values</h2>
<p><code><a href="../reference/pretty_pvalues.html">pretty_pvalues()</a></code> can be used on p values, rounding them to a specified digit amount and using &lt; for low p values, as opposed to scientific notation (i.e. “p &lt; 0.0001” if rounding to 4 digits), allows options for emphasizing p-values and specific characters for missing.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">pvalue_example =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="fl">0.06753</span>, <span class="fl">0.004435</span>, <span class="ot">NA</span>, <span class="fl">1e-16</span>, <span class="fl">0.563533</span>)</a>
<a class="sourceLine" id="cb6-2" title="2"><span class="co"># For simple p value display</span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="kw"><a href="../reference/pretty_pvalues.html">pretty_pvalues</a></span>(pvalue_example, <span class="dt">digits =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb6-4" title="4"><span class="co">#&gt; [1] "1.000"  "0.068"  "0.004"  "---"    "&lt;0.001" "0.564"</span></a>
<a class="sourceLine" id="cb6-5" title="5"></a>
<a class="sourceLine" id="cb6-6" title="6"><span class="co"># For display in report</span></a>
<a class="sourceLine" id="cb6-7" title="7">table_p_Values &lt;-<span class="st"> </span><span class="kw"><a href="../reference/pretty_pvalues.html">pretty_pvalues</a></span>(pvalue_example, <span class="dt">digits =</span> <span class="dv">3</span>, <span class="dt">background =</span> <span class="st">"yellow"</span>)</a>
<a class="sourceLine" id="cb6-8" title="8">kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/reexports">kable</a></span>(table_p_Values, <span class="dt">format =</span> <span class="st">'latex'</span>, <span class="dt">escape =</span> <span class="ot">FALSE</span>, </a>
<a class="sourceLine" id="cb6-9" title="9">                  <span class="dt">col.names =</span> <span class="kw">c</span>(<span class="st">"P-values"</span>), <span class="dt">caption =</span> <span class="st">'Fancy P Values'</span>)</a></code></pre></div>

<p>You can also specify if you want <code>p=</code> pasted on the front of the p values.</p>
</div>
<div id="basic-combining-of-variables" class="section level2">
<h2 class="hasAnchor">
<a href="#basic-combining-of-variables" class="anchor"></a>Basic Combining of Variables</h2>
<p><code><a href="../reference/stat_paste.html">stat_paste()</a></code> is used to combine two or three statistics together, allowing for different rounding and bound character specifications. Common uses for this function are for:</p>
<ul>
<li>Mean (sd)</li>
<li>Median [min, max]</li>
<li>Estimate (SE of Estimate)</li>
<li>Estimate (95% CI Lower Bound, Upper Bound)</li>
<li>Estimate/Statistic (p value)</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="co"># Simple Examples</span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="kw"><a href="../reference/stat_paste.html">stat_paste</a></span>(<span class="dt">stat1 =</span> <span class="fl">2.45</span>, <span class="dt">stat2 =</span> <span class="fl">0.214</span>, <span class="dt">stat3 =</span> <span class="fl">55.3</span>, </a>
<a class="sourceLine" id="cb7-3" title="3">           <span class="dt">digits =</span> <span class="dv">2</span>, <span class="dt">bound_char =</span> <span class="st">'['</span>)</a>
<a class="sourceLine" id="cb7-4" title="4"><span class="co">#&gt; [1] "2.45 [0.21, 55.30]"</span></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="kw"><a href="../reference/stat_paste.html">stat_paste</a></span>(<span class="dt">stat1 =</span> <span class="fl">6.4864</span>, <span class="dt">stat2 =</span> <span class="kw"><a href="../reference/pretty_pvalues.html">pretty_pvalues</a></span>(<span class="fl">0.0004</span>, <span class="dt">digits =</span> <span class="dv">3</span>), </a>
<a class="sourceLine" id="cb7-6" title="6">           <span class="dt">digits =</span> <span class="dv">3</span>, <span class="dt">bound_char =</span> <span class="st">'('</span>)</a>
<a class="sourceLine" id="cb7-7" title="7"><span class="co">#&gt; [1] "6.486 (&lt;0.001)"</span></a>
<a class="sourceLine" id="cb7-8" title="8"></a>
<a class="sourceLine" id="cb7-9" title="9"></a>
<a class="sourceLine" id="cb7-10" title="10">Bladder_Cancer <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-11" title="11"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(Gender) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-12" title="12"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span>(<span class="st">`</span><span class="dt">Survival Info (Median [Range])</span><span class="st">`</span> =<span class="st"> </span></a>
<a class="sourceLine" id="cb7-13" title="13"><span class="st">              </span><span class="kw"><a href="../reference/stat_paste.html">stat_paste</a></span>(<span class="dt">stat1 =</span> <span class="kw">median</span>(Survival_Months), </a>
<a class="sourceLine" id="cb7-14" title="14">                         <span class="dt">stat2 =</span> <span class="kw">min</span>(Survival_Months),</a>
<a class="sourceLine" id="cb7-15" title="15">                         <span class="dt">stat3 =</span> <span class="kw">max</span>(Survival_Months),</a>
<a class="sourceLine" id="cb7-16" title="16">                         <span class="dt">digits =</span> <span class="dv">2</span>, <span class="dt">bound_char =</span> <span class="st">'['</span>))</a>
<a class="sourceLine" id="cb7-17" title="17"><span class="co">#&gt; # A tibble: 2 x 2</span></a>
<a class="sourceLine" id="cb7-18" title="18"><span class="co">#&gt;   Gender `Survival Info (Median [Range])`</span></a>
<a class="sourceLine" id="cb7-19" title="19"><span class="co">#&gt;   &lt;fct&gt;  &lt;chr&gt;                           </span></a>
<a class="sourceLine" id="cb7-20" title="20"><span class="co">#&gt; 1 Female 30.21 [1.90, 109.00]            </span></a>
<a class="sourceLine" id="cb7-21" title="21"><span class="co">#&gt; 2 Male   20.40 [0.10, 127.19]</span></a>
<a class="sourceLine" id="cb7-22" title="22"></a>
<a class="sourceLine" id="cb7-23" title="23">Bladder_Cancer <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-24" title="24"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span>(</a>
<a class="sourceLine" id="cb7-25" title="25">    <span class="st">`</span><span class="dt">Age vs. Survival Months Cor(p value)</span><span class="st">`</span> =<span class="st"> </span></a>
<a class="sourceLine" id="cb7-26" title="26"><span class="st">      </span><span class="kw"><a href="../reference/stat_paste.html">stat_paste</a></span>(<span class="dt">stat1 =</span> <span class="kw">cor</span>(Age_At_Diagnosis, Survival_Months, <span class="dt">method =</span> <span class="st">'spearman'</span>), </a>
<a class="sourceLine" id="cb7-27" title="27">                 <span class="dt">stat2 =</span> </a>
<a class="sourceLine" id="cb7-28" title="28">                   <span class="kw"><a href="../reference/pretty_pvalues.html">pretty_pvalues</a></span>(</a>
<a class="sourceLine" id="cb7-29" title="29">                     <span class="kw"><a href="../reference/cor_test.html">cor_test</a></span>(Age_At_Diagnosis, Survival_Months, <span class="dt">method =</span> <span class="st">'spearman'</span>), </a>
<a class="sourceLine" id="cb7-30" title="30">                     <span class="dt">digits =</span> <span class="dv">3</span>, <span class="dt">include_p =</span> <span class="ot">TRUE</span>),</a>
<a class="sourceLine" id="cb7-31" title="31">                 <span class="dt">digits =</span> <span class="dv">2</span>, <span class="dt">bound_char =</span> <span class="st">'('</span>))</a>
<a class="sourceLine" id="cb7-32" title="32"><span class="co">#&gt; # A tibble: 1 x 1</span></a>
<a class="sourceLine" id="cb7-33" title="33"><span class="co">#&gt;   `Age vs. Survival Months Cor(p value)`</span></a>
<a class="sourceLine" id="cb7-34" title="34"><span class="co">#&gt;   &lt;chr&gt;                                 </span></a>
<a class="sourceLine" id="cb7-35" title="35"><span class="co">#&gt; 1 -0.13 (p=0.085)</span></a></code></pre></div>

</div>
<div id="advanced-combining-of-variables" class="section level2">
<h2 class="hasAnchor">
<a href="#advanced-combining-of-variables" class="anchor"></a>Advanced Combining of Variables</h2>
<p><code><a href="../reference/paste_tbl_grp.html">paste_tbl_grp()</a></code> paste together information, often statistics, from two groups. There are two predefined combinations: mean(sd) and median[min,max], but user may also paste any single measure together.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"></a>
<a class="sourceLine" id="cb8-2" title="2">summary_info &lt;-<span class="st"> </span>Bladder_Cancer <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(Gender, Any_Downstaging) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-4" title="4"><span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/summarise_all.html">summarise_at</a></span>(<span class="st">"Survival_Months"</span>, <span class="kw"><a href="https://dplyr.tidyverse.org/reference/funs.html">funs</a></span>(<span class="dt">n =</span> length, mean, sd, median, min, max)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-5" title="5"><span class="st"> </span>tidyr<span class="op">::</span><span class="kw"><a href="https://tidyr.tidyverse.org/reference/gather.html">gather</a></span>(variable, value, <span class="op">-</span>Any_Downstaging, <span class="op">-</span>Gender) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-6" title="6"><span class="st"> </span>tidyr<span class="op">::</span><span class="kw"><a href="https://tidyr.tidyverse.org/reference/unite.html">unite</a></span>(var, Any_Downstaging, variable) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-7" title="7"><span class="st"> </span>tidyr<span class="op">::</span><span class="kw"><a href="https://tidyr.tidyverse.org/reference/spread.html">spread</a></span>(var, value) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-8" title="8"><span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="st">`</span><span class="dt">No Downstaging</span><span class="st">`</span> =<span class="st"> "No Downstaging"</span>, <span class="dt">Downstaging =</span> <span class="st">"Downstaging"</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-9" title="9"><span class="st"> </span><span class="kw"><a href="../reference/paste_tbl_grp.html">paste_tbl_grp</a></span>(<span class="dt">vars_to_paste =</span> <span class="kw">c</span>(<span class="st">'n'</span>, <span class="st">'mean_sd'</span>, <span class="st">'median_min_max'</span>), </a>
<a class="sourceLine" id="cb8-10" title="10">               <span class="dt">first_name =</span> <span class="st">'No Downstaging'</span>, <span class="dt">second_name =</span> <span class="st">'Downstaging'</span>)</a>
<a class="sourceLine" id="cb8-11" title="11"></a>
<a class="sourceLine" id="cb8-12" title="12">kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/reexports">kable</a></span>(summary_info, <span class="dt">format =</span> <span class="st">'latex'</span>, <span class="dt">escape =</span> <span class="ot">TRUE</span>, <span class="dt">booktabs =</span> <span class="ot">TRUE</span>, </a>
<a class="sourceLine" id="cb8-13" title="13">                  <span class="dt">caption =</span> <span class="st">'Summary Information Comparison'</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-14" title="14"><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/kable_styling">kable_styling</a></span>(<span class="dt">font_size =</span> <span class="fl">6.5</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-15" title="15"><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/footnote">footnote</a></span>(</a>
<a class="sourceLine" id="cb8-16" title="16">    <span class="st">'Summary Information for Downstaging vs. No-Downstaging, by Gender'</span>)</a></code></pre></div>

</div>
<div id="model-output-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#model-output-functions" class="anchor"></a>Model Output Functions</h2>
<p><code><a href="../reference/pretty_model_output.html">pretty_model_output()</a></code> and <code><a href="../reference/run_pretty_model_output.html">run_pretty_model_output()</a></code> are used to produce professional tables for single or multiple Linear, Logistic, or Cox Proportional-Hazards Regression Models, calculating estimates, odds ratios, or hazard ratios, respectively, with confidence intervals. P values are also produced. For categorical variables with 3+ levels overall Type 3 p values are calculated (matches SAS’s default overall p values), in addition to p values comparing to the first level (reference).</p>
<p><code><a href="../reference/pretty_model_output.html">pretty_model_output()</a></code> uses the model fits, while <code><a href="../reference/run_pretty_model_output.html">run_pretty_model_output()</a></code> uses the variables and dataset, running the desired model. The <code><a href="../reference/run_pretty_model_output.html">run_pretty_model_output()</a></code> will use variable labels if they exist (created by the <code><a href="http://www.rdocumentation.org/packages/Hmisc/topics/label">Hmisc::label()</a></code> function). Many details can be adjusted, such as overall test method (“Wald” or “LR”), title (will be added as column), confidence level, estimate and p value rounded digits, significant alpha level for highlighting along with color, italic, and bolding p value options, and latex or non-latex desired output.</p>
<p>In <code><a href="../reference/run_pretty_model_output.html">run_pretty_model_output()</a></code>, <code>y_in</code>, <code>event_in</code>, and <code>event_level</code> are used defined differently, depending on the type of model. For Linear Regression <code>y_in</code> is the dependent variable, and <code>event_in</code> and <code>event_level</code> are left NULL. For Logistic Regression <code>y_in</code> is the dependent variable, <code>event_level</code> is the event level of the variable (i.e. “1” or “Response”), and <code>event_in</code> is left NULL. For Cox Regression <code>y_in</code> is the time component, <code>event_in</code> is the event status variable, and <code>event_level</code> is the event level of the <code>event_in</code> variable (i.e. “1” or “Dead”).</p>

<div id="linear-regression-example" class="section level3">
<h3 class="hasAnchor">
<a href="#linear-regression-example" class="anchor"></a>Linear Regression Example</h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="co"># Using pretty_model_output() for a single multivariable model</span></a>
<a class="sourceLine" id="cb9-2" title="2"></a>
<a class="sourceLine" id="cb9-3" title="3">my_fit &lt;-<span class="st"> </span><span class="kw">lm</span>(</a>
<a class="sourceLine" id="cb9-4" title="4">  Surgery_Year <span class="op">~</span><span class="st"> </span>Age_At_Diagnosis <span class="op">+</span><span class="st"> </span>Gender <span class="op">+</span><span class="st"> </span>Clinical_Stage_Grouped <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-5" title="5"><span class="st">    </span>Histology_Grouped, <span class="dt">data =</span> Bladder_Cancer)</a>
<a class="sourceLine" id="cb9-6" title="6"><span class="kw"><a href="../reference/pretty_model_output.html">pretty_model_output</a></span>(<span class="dt">fit =</span> my_fit, <span class="dt">model_data =</span> Bladder_Cancer)</a>
<a class="sourceLine" id="cb9-7" title="7"><span class="co">#&gt; # A tibble: 9 x 5</span></a>
<a class="sourceLine" id="cb9-8" title="8"><span class="co">#&gt;   Variable      Level          `Est (95% CI)`    `P Value` `Overall P Valu…</span></a>
<a class="sourceLine" id="cb9-9" title="9"><span class="co">#&gt;   &lt;chr&gt;         &lt;chr&gt;          &lt;chr&gt;             &lt;chr&gt;     &lt;chr&gt;           </span></a>
<a class="sourceLine" id="cb9-10" title="10"><span class="co">#&gt; 1 Age           ""             0.034 (-0.014, 0… 0.1617    ""              </span></a>
<a class="sourceLine" id="cb9-11" title="11"><span class="co">#&gt; 2 Gender        Female         1.0 (Reference)   -         ""              </span></a>
<a class="sourceLine" id="cb9-12" title="12"><span class="co">#&gt; 3 Gender        Male           -0.414 (-1.379, … 0.3983    ""              </span></a>
<a class="sourceLine" id="cb9-13" title="13"><span class="co">#&gt; 4 Clinical AJC… Stage I/II (&lt;… 1.0 (Reference)   -         0.0004          </span></a>
<a class="sourceLine" id="cb9-14" title="14"><span class="co">#&gt; 5 Clinical AJC… Stage III (T3… -2.190 (-3.259, … &lt;0.0001   ""              </span></a>
<a class="sourceLine" id="cb9-15" title="15"><span class="co">#&gt; 6 Clinical AJC… Stage IV (T4N… -1.007 (-2.490, … 0.1817    ""              </span></a>
<a class="sourceLine" id="cb9-16" title="16"><span class="co">#&gt; 7 Histology     Pure Urotheli… 1.0 (Reference)   -         0.0038          </span></a>
<a class="sourceLine" id="cb9-17" title="17"><span class="co">#&gt; 8 Histology     Mixed Tumors   1.109 (0.093, 2.… 0.0326    ""              </span></a>
<a class="sourceLine" id="cb9-18" title="18"><span class="co">#&gt; 9 Histology     Variant Histo… 1.661 (0.605, 2.… 0.0022    ""</span></a></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1"></a>
<a class="sourceLine" id="cb10-2" title="2">vars_to_run =<span class="st"> </span><span class="kw">c</span>(<span class="st">'Age_At_Diagnosis'</span>, <span class="st">'Gender'</span>, <span class="st">'Clinical_Stage_Grouped'</span>, <span class="st">'Histology_Grouped'</span>)</a>
<a class="sourceLine" id="cb10-3" title="3"></a>
<a class="sourceLine" id="cb10-4" title="4"><span class="co"># Using run_pretty_model_output() for multiple univariate linear regression models</span></a>
<a class="sourceLine" id="cb10-5" title="5"><span class="co"># Use purrr::map_dfr function to run the run_pretty_model_output() multiple times</span></a>
<a class="sourceLine" id="cb10-6" title="6">linear_univariate_output &lt;-<span class="st"> </span>purrr<span class="op">::</span><span class="kw"><a href="https://purrr.tidyverse.org/reference/map.html">map_dfr</a></span>(</a>
<a class="sourceLine" id="cb10-7" title="7">  vars_to_run, run_pretty_model_output, <span class="dt">model_data =</span> Bladder_Cancer, </a>
<a class="sourceLine" id="cb10-8" title="8">  <span class="dt">y_in =</span> <span class="st">'Surgery_Year'</span>, <span class="dt">event_in =</span> <span class="ot">NULL</span>, <span class="dt">event_level =</span> <span class="ot">NULL</span>, </a>
<a class="sourceLine" id="cb10-9" title="9">  <span class="dt">output_type =</span> <span class="st">'latex'</span>) </a>
<a class="sourceLine" id="cb10-10" title="10"></a>
<a class="sourceLine" id="cb10-11" title="11"><span class="co">#Use kableExtra to make fancy output</span></a>
<a class="sourceLine" id="cb10-12" title="12">kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/reexports">kable</a></span>(</a>
<a class="sourceLine" id="cb10-13" title="13">  linear_univariate_output, <span class="st">'latex'</span>, <span class="dt">escape =</span> F, <span class="dt">booktabs =</span> <span class="ot">TRUE</span>, </a>
<a class="sourceLine" id="cb10-14" title="14">  <span class="dt">linesep =</span> <span class="st">''</span>, <span class="dt">caption =</span> <span class="st">'Linear Regression Univariate Models'</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-15" title="15"><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/collapse_rows">collapse_rows</a></span>(<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>), <span class="dt">row_group_label_position =</span> <span class="st">'stack'</span>,</a>
<a class="sourceLine" id="cb10-16" title="16">                            <span class="dt">headers_to_remove =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dt">latex_hline =</span> <span class="st">'major'</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb10-17" title="17"><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/kable_styling">kable_styling</a></span>(<span class="dt">font_size =</span> <span class="dv">10</span>)</a></code></pre></div>

<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"></a>
<a class="sourceLine" id="cb11-2" title="2"><span class="co"># Using run_pretty_model_output() for a multivariable linear regression model</span></a>
<a class="sourceLine" id="cb11-3" title="3">linear_multivariable_output &lt;-<span class="st"> </span><span class="kw"><a href="../reference/run_pretty_model_output.html">run_pretty_model_output</a></span>(</a>
<a class="sourceLine" id="cb11-4" title="4">  <span class="dt">x_in =</span> vars_to_run, <span class="dt">model_data =</span> Bladder_Cancer, <span class="dt">y_in =</span> <span class="st">'Surgery_Year'</span>, </a>
<a class="sourceLine" id="cb11-5" title="5">  <span class="dt">event_in =</span> <span class="ot">NULL</span>, <span class="dt">event_level =</span> <span class="ot">NULL</span>, <span class="dt">output_type =</span> <span class="st">'latex'</span>)</a>
<a class="sourceLine" id="cb11-6" title="6"></a>
<a class="sourceLine" id="cb11-7" title="7"><span class="co">#Use kableExtra to make fancy output</span></a>
<a class="sourceLine" id="cb11-8" title="8">kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/reexports">kable</a></span>(</a>
<a class="sourceLine" id="cb11-9" title="9">  linear_multivariable_output <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="op">-</span>n), <span class="st">'latex'</span>, </a>
<a class="sourceLine" id="cb11-10" title="10">  <span class="dt">escape =</span> F, <span class="dt">booktabs =</span> <span class="ot">TRUE</span>, <span class="dt">linesep =</span> <span class="st">''</span>, </a>
<a class="sourceLine" id="cb11-11" title="11">  <span class="dt">caption =</span> <span class="st">'Linear Regression Multivariable Model'</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-12" title="12"><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/collapse_rows">collapse_rows</a></span>(<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>), <span class="dt">row_group_label_position =</span> <span class="st">'stack'</span>,</a>
<a class="sourceLine" id="cb11-13" title="13">                            <span class="dt">headers_to_remove =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dt">latex_hline =</span> <span class="st">'major'</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-14" title="14"><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/kable_styling">kable_styling</a></span>(<span class="dt">font_size =</span> <span class="dv">10</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-15" title="15"><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/footnote">footnote</a></span>(</a>
<a class="sourceLine" id="cb11-16" title="16">    <span class="kw">paste0</span>(<span class="st">'Model sample size is '</span>, </a>
<a class="sourceLine" id="cb11-17" title="17">           linear_multivariable_output <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(n) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice</a></span>(<span class="dv">1</span>)))</a></code></pre></div>


</div>
<div id="logistic-regression-example" class="section level3">
<h3 class="hasAnchor">
<a href="#logistic-regression-example" class="anchor"></a>Logistic Regression Example</h3>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1"><span class="co"># Using pretty_model_output() for a single multivariable model</span></a>
<a class="sourceLine" id="cb12-2" title="2"></a>
<a class="sourceLine" id="cb12-3" title="3">my_fit &lt;-<span class="st"> </span><span class="kw">glm</span>(</a>
<a class="sourceLine" id="cb12-4" title="4">  Any_Downstaging <span class="op">==</span><span class="st"> 'Downstaging'</span> <span class="op">~</span><span class="st"> </span>Age_At_Diagnosis <span class="op">+</span><span class="st"> </span>Gender <span class="op">+</span><span class="st"> </span>Clinical_Stage_Grouped <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb12-5" title="5"><span class="st">    </span>Histology_Grouped, <span class="dt">data =</span> Bladder_Cancer, <span class="dt">family =</span> <span class="kw">binomial</span>(<span class="dt">link =</span> <span class="st">"logit"</span>))</a>
<a class="sourceLine" id="cb12-6" title="6"><span class="kw"><a href="../reference/pretty_model_output.html">pretty_model_output</a></span>(<span class="dt">fit =</span> my_fit, <span class="dt">model_data =</span> Bladder_Cancer)</a>
<a class="sourceLine" id="cb12-7" title="7"><span class="co">#&gt; # A tibble: 9 x 5</span></a>
<a class="sourceLine" id="cb12-8" title="8"><span class="co">#&gt;   Variable       Level          `OR (95% CI)`    `P Value` `Overall P Valu…</span></a>
<a class="sourceLine" id="cb12-9" title="9"><span class="co">#&gt;   &lt;chr&gt;          &lt;chr&gt;          &lt;chr&gt;            &lt;chr&gt;     &lt;chr&gt;           </span></a>
<a class="sourceLine" id="cb12-10" title="10"><span class="co">#&gt; 1 Age            ""             1.027 (0.989, 1… 0.1737    ""              </span></a>
<a class="sourceLine" id="cb12-11" title="11"><span class="co">#&gt; 2 Gender         Female         1.0 (Reference)  -         ""              </span></a>
<a class="sourceLine" id="cb12-12" title="12"><span class="co">#&gt; 3 Gender         Male           0.612 (0.281, 1… 0.2111    ""              </span></a>
<a class="sourceLine" id="cb12-13" title="13"><span class="co">#&gt; 4 Clinical AJCC… Stage I/II (&lt;… 1.0 (Reference)  -         0.0168          </span></a>
<a class="sourceLine" id="cb12-14" title="14"><span class="co">#&gt; 5 Clinical AJCC… Stage III (T3… 0.295 (0.111, 0… 0.0095    ""              </span></a>
<a class="sourceLine" id="cb12-15" title="15"><span class="co">#&gt; 6 Clinical AJCC… Stage IV (T4N… 0.356 (0.099, 1… 0.0912    ""              </span></a>
<a class="sourceLine" id="cb12-16" title="16"><span class="co">#&gt; 7 Histology      Pure Urotheli… 1.0 (Reference)  -         0.1587          </span></a>
<a class="sourceLine" id="cb12-17" title="17"><span class="co">#&gt; 8 Histology      Mixed Tumors   1.102 (0.495, 2… 0.8114    ""              </span></a>
<a class="sourceLine" id="cb12-18" title="18"><span class="co">#&gt; 9 Histology      Variant Histo… 0.457 (0.188, 1… 0.0740    ""</span></a></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1"></a>
<a class="sourceLine" id="cb13-2" title="2">vars_to_run =<span class="st"> </span><span class="kw">c</span>(<span class="st">'Age_At_Diagnosis'</span>, <span class="st">'Gender'</span>, <span class="st">'Clinical_Stage_Grouped'</span>, <span class="st">'Histology_Grouped'</span>)</a>
<a class="sourceLine" id="cb13-3" title="3"></a>
<a class="sourceLine" id="cb13-4" title="4"><span class="co"># Using run_pretty_model_output() for multiple univariate logistic regression models</span></a>
<a class="sourceLine" id="cb13-5" title="5"><span class="co"># Use purrr::map_dfr function to run the run_pretty_model_output() multiple times</span></a>
<a class="sourceLine" id="cb13-6" title="6">logistic_univariate_output &lt;-<span class="st"> </span>purrr<span class="op">::</span><span class="kw"><a href="https://purrr.tidyverse.org/reference/map.html">map_dfr</a></span>(</a>
<a class="sourceLine" id="cb13-7" title="7">  vars_to_run, run_pretty_model_output, <span class="dt">model_data =</span> Bladder_Cancer, </a>
<a class="sourceLine" id="cb13-8" title="8">  <span class="dt">y_in =</span> <span class="st">'Any_Downstaging'</span>, <span class="dt">event_in =</span> <span class="ot">NULL</span>, <span class="dt">event_level =</span> <span class="st">'Downstaging'</span>, </a>
<a class="sourceLine" id="cb13-9" title="9">  <span class="dt">output_type =</span> <span class="st">'latex'</span>) </a>
<a class="sourceLine" id="cb13-10" title="10"></a>
<a class="sourceLine" id="cb13-11" title="11"><span class="co">#Use kableExtra to make fancy output</span></a>
<a class="sourceLine" id="cb13-12" title="12">kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/reexports">kable</a></span>(</a>
<a class="sourceLine" id="cb13-13" title="13">  logistic_univariate_output, <span class="st">'latex'</span>, <span class="dt">escape =</span> F, <span class="dt">booktabs =</span> <span class="ot">TRUE</span>, </a>
<a class="sourceLine" id="cb13-14" title="14">  <span class="dt">linesep =</span> <span class="st">''</span>, <span class="dt">caption =</span> <span class="st">'Logistic Regression Univariate Models'</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb13-15" title="15"><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/collapse_rows">collapse_rows</a></span>(<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>), <span class="dt">row_group_label_position =</span> <span class="st">'stack'</span>,</a>
<a class="sourceLine" id="cb13-16" title="16">                            <span class="dt">headers_to_remove =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dt">latex_hline =</span> <span class="st">'major'</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb13-17" title="17"><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/kable_styling">kable_styling</a></span>(<span class="dt">font_size =</span> <span class="dv">10</span>)</a></code></pre></div>

<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"></a>
<a class="sourceLine" id="cb14-2" title="2"><span class="co"># Using run_pretty_model_output() for a multivariable logistic regression model</span></a>
<a class="sourceLine" id="cb14-3" title="3">logistic_multivariable_output &lt;-<span class="st"> </span><span class="kw"><a href="../reference/run_pretty_model_output.html">run_pretty_model_output</a></span>(</a>
<a class="sourceLine" id="cb14-4" title="4">  <span class="dt">x_in =</span> vars_to_run, <span class="dt">model_data =</span> Bladder_Cancer, <span class="dt">y_in =</span> <span class="st">'Any_Downstaging'</span>, </a>
<a class="sourceLine" id="cb14-5" title="5">  <span class="dt">event_in =</span> <span class="ot">NULL</span>, <span class="dt">event_level =</span> <span class="st">'Downstaging'</span>, <span class="dt">output_type =</span> <span class="st">'latex'</span>)</a>
<a class="sourceLine" id="cb14-6" title="6"></a>
<a class="sourceLine" id="cb14-7" title="7"><span class="co">#Use kableExtra to make fancy output</span></a>
<a class="sourceLine" id="cb14-8" title="8">kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/reexports">kable</a></span>(</a>
<a class="sourceLine" id="cb14-9" title="9">  logistic_multivariable_output <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="op">-</span>n), <span class="st">'latex'</span>, </a>
<a class="sourceLine" id="cb14-10" title="10">  <span class="dt">escape =</span> F, <span class="dt">booktabs =</span> <span class="ot">TRUE</span>, <span class="dt">linesep =</span> <span class="st">''</span>, </a>
<a class="sourceLine" id="cb14-11" title="11">  <span class="dt">caption =</span> <span class="st">'Logistic Regression Multivariable Model'</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-12" title="12"><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/collapse_rows">collapse_rows</a></span>(<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>), <span class="dt">row_group_label_position =</span> <span class="st">'stack'</span>,</a>
<a class="sourceLine" id="cb14-13" title="13">                            <span class="dt">headers_to_remove =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dt">latex_hline =</span> <span class="st">'major'</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb14-14" title="14"><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/kable_styling">kable_styling</a></span>(<span class="dt">font_size =</span> <span class="dv">10</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb14-15" title="15"><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/footnote">footnote</a></span>(</a>
<a class="sourceLine" id="cb14-16" title="16">    <span class="kw">paste0</span>(<span class="st">'Model sample size is '</span>, </a>
<a class="sourceLine" id="cb14-17" title="17">           logistic_multivariable_output <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(n) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice</a></span>(<span class="dv">1</span>)))</a></code></pre></div>


</div>
<div id="cox-proportional-hazards-regression-example" class="section level3">
<h3 class="hasAnchor">
<a href="#cox-proportional-hazards-regression-example" class="anchor"></a>Cox Proportional-Hazards Regression Example</h3>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1"><span class="co"># Using pretty_model_output() for a single multivariable model</span></a>
<a class="sourceLine" id="cb15-2" title="2"></a>
<a class="sourceLine" id="cb15-3" title="3">surv_obj &lt;-<span class="st"> </span>survival<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/survival/topics/Surv">Surv</a></span>(Bladder_Cancer<span class="op">$</span>Survival_Months, Bladder_Cancer<span class="op">$</span>Vital_Status <span class="op">==</span><span class="st"> 'Dead'</span>)   </a>
<a class="sourceLine" id="cb15-4" title="4">my_fit &lt;-<span class="st"> </span>survival<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/survival/topics/coxph">coxph</a></span>(</a>
<a class="sourceLine" id="cb15-5" title="5">  surv_obj <span class="op">~</span><span class="st"> </span>Age_At_Diagnosis <span class="op">+</span><span class="st"> </span>Gender <span class="op">+</span><span class="st"> </span>Clinical_Stage_Grouped <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb15-6" title="6"><span class="st">    </span>Histology_Grouped, <span class="dt">data =</span> Bladder_Cancer)</a>
<a class="sourceLine" id="cb15-7" title="7"><span class="kw"><a href="../reference/pretty_model_output.html">pretty_model_output</a></span>(<span class="dt">fit =</span> my_fit, <span class="dt">model_data =</span> Bladder_Cancer)</a>
<a class="sourceLine" id="cb15-8" title="8"><span class="co">#&gt; # A tibble: 9 x 5</span></a>
<a class="sourceLine" id="cb15-9" title="9"><span class="co">#&gt;   Variable       Level          `HR (95% CI)`    `P Value` `Overall P Valu…</span></a>
<a class="sourceLine" id="cb15-10" title="10"><span class="co">#&gt;   &lt;chr&gt;          &lt;chr&gt;          &lt;chr&gt;            &lt;chr&gt;     &lt;chr&gt;           </span></a>
<a class="sourceLine" id="cb15-11" title="11"><span class="co">#&gt; 1 Age            ""             0.997 (0.967, 1… 0.8384    ""              </span></a>
<a class="sourceLine" id="cb15-12" title="12"><span class="co">#&gt; 2 Gender         Female         1.0 (Reference)  -         ""              </span></a>
<a class="sourceLine" id="cb15-13" title="13"><span class="co">#&gt; 3 Gender         Male           1.677 (0.863, 3… 0.1269    ""              </span></a>
<a class="sourceLine" id="cb15-14" title="14"><span class="co">#&gt; 4 Clinical AJCC… Stage I/II (&lt;… 1.0 (Reference)  -         0.0349          </span></a>
<a class="sourceLine" id="cb15-15" title="15"><span class="co">#&gt; 5 Clinical AJCC… Stage III (T3… 2.217 (1.209, 4… 0.0101    ""              </span></a>
<a class="sourceLine" id="cb15-16" title="16"><span class="co">#&gt; 6 Clinical AJCC… Stage IV (T4N… 1.683 (0.662, 4… 0.2740    ""              </span></a>
<a class="sourceLine" id="cb15-17" title="17"><span class="co">#&gt; 7 Histology      Pure Urotheli… 1.0 (Reference)  -         0.5314          </span></a>
<a class="sourceLine" id="cb15-18" title="18"><span class="co">#&gt; 8 Histology      Mixed Tumors   1.276 (0.678, 2… 0.4501    ""              </span></a>
<a class="sourceLine" id="cb15-19" title="19"><span class="co">#&gt; 9 Histology      Variant Histo… 1.419 (0.715, 2… 0.3168    ""</span></a></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1"></a>
<a class="sourceLine" id="cb16-2" title="2">vars_to_run =<span class="st"> </span><span class="kw">c</span>(<span class="st">'Age_At_Diagnosis'</span>, <span class="st">'Gender'</span>, <span class="st">'Clinical_Stage_Grouped'</span>, <span class="st">'Histology_Grouped'</span>)</a>
<a class="sourceLine" id="cb16-3" title="3"></a>
<a class="sourceLine" id="cb16-4" title="4"><span class="co"># Using run_pretty_model_output() for multiple univariate Cox regression models</span></a>
<a class="sourceLine" id="cb16-5" title="5"><span class="co"># Use purrr::map_dfr function to run the run_pretty_model_output() multiple times</span></a>
<a class="sourceLine" id="cb16-6" title="6">cox_univariate_output &lt;-<span class="st"> </span>purrr<span class="op">::</span><span class="kw"><a href="https://purrr.tidyverse.org/reference/map.html">map_dfr</a></span>(</a>
<a class="sourceLine" id="cb16-7" title="7">  vars_to_run, run_pretty_model_output, <span class="dt">model_data =</span> Bladder_Cancer, </a>
<a class="sourceLine" id="cb16-8" title="8">  <span class="dt">y_in =</span> <span class="st">'Survival_Months'</span>, <span class="dt">event_in =</span> <span class="st">'Vital_Status'</span>, <span class="dt">event_level =</span> <span class="st">'Dead'</span>, </a>
<a class="sourceLine" id="cb16-9" title="9">  <span class="dt">output_type =</span> <span class="st">'latex'</span>) </a>
<a class="sourceLine" id="cb16-10" title="10"></a>
<a class="sourceLine" id="cb16-11" title="11"><span class="co">#Use kableExtra to make fancy output</span></a>
<a class="sourceLine" id="cb16-12" title="12">kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/reexports">kable</a></span>(</a>
<a class="sourceLine" id="cb16-13" title="13">  cox_univariate_output, <span class="st">'latex'</span>, <span class="dt">escape =</span> F, <span class="dt">booktabs =</span> <span class="ot">TRUE</span>, </a>
<a class="sourceLine" id="cb16-14" title="14">  <span class="dt">linesep =</span> <span class="st">''</span>, <span class="dt">caption =</span> <span class="st">'Cox Proportional-Hazards Regression Univariate Models'</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb16-15" title="15"><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/collapse_rows">collapse_rows</a></span>(<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>), <span class="dt">row_group_label_position =</span> <span class="st">'stack'</span>,</a>
<a class="sourceLine" id="cb16-16" title="16">                            <span class="dt">headers_to_remove =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dt">latex_hline =</span> <span class="st">'major'</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb16-17" title="17"><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/kable_styling">kable_styling</a></span>(<span class="dt">font_size =</span> <span class="dv">10</span>)</a></code></pre></div>

<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1"></a>
<a class="sourceLine" id="cb17-2" title="2"><span class="co"># Using run_pretty_model_output() for a multivariable Cox regression model</span></a>
<a class="sourceLine" id="cb17-3" title="3">cox_multivariable_output &lt;-<span class="st"> </span><span class="kw"><a href="../reference/run_pretty_model_output.html">run_pretty_model_output</a></span>(</a>
<a class="sourceLine" id="cb17-4" title="4">  <span class="dt">x_in =</span> vars_to_run, <span class="dt">model_data =</span> Bladder_Cancer, <span class="dt">y_in =</span> <span class="st">'Survival_Months'</span>, </a>
<a class="sourceLine" id="cb17-5" title="5">  <span class="dt">event_in =</span> <span class="st">'Vital_Status'</span>, <span class="dt">event_level =</span> <span class="st">'Dead'</span>, <span class="dt">output_type =</span> <span class="st">'latex'</span>)</a>
<a class="sourceLine" id="cb17-6" title="6"></a>
<a class="sourceLine" id="cb17-7" title="7"><span class="co">#Use kableExtra to make fancy output</span></a>
<a class="sourceLine" id="cb17-8" title="8">kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/reexports">kable</a></span>(</a>
<a class="sourceLine" id="cb17-9" title="9">  cox_multivariable_output <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="op">-</span><span class="st">`</span><span class="dt">n (events)</span><span class="st">`</span>), <span class="st">'latex'</span>, </a>
<a class="sourceLine" id="cb17-10" title="10">  <span class="dt">escape =</span> F, <span class="dt">booktabs =</span> <span class="ot">TRUE</span>, <span class="dt">linesep =</span> <span class="st">''</span>, </a>
<a class="sourceLine" id="cb17-11" title="11">  <span class="dt">caption =</span> <span class="st">'Cox Proportional-Hazards Regression Multivariable Model'</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb17-12" title="12"><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/collapse_rows">collapse_rows</a></span>(<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>), <span class="dt">row_group_label_position =</span> <span class="st">'stack'</span>,</a>
<a class="sourceLine" id="cb17-13" title="13">                            <span class="dt">headers_to_remove =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dt">latex_hline =</span> <span class="st">'major'</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb17-14" title="14"><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/kable_styling">kable_styling</a></span>(<span class="dt">font_size =</span> <span class="dv">10</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb17-15" title="15"><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/footnote">footnote</a></span>(</a>
<a class="sourceLine" id="cb17-16" title="16">    <span class="kw">paste0</span>(<span class="st">'Model sample size (events) is '</span>, </a>
<a class="sourceLine" id="cb17-17" title="17">           cox_multivariable_output <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="st">`</span><span class="dt">n (events)</span><span class="st">`</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice</a></span>(<span class="dv">1</span>)))</a></code></pre></div>

</div>
</div>
<div id="kaplanmeier-output-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#kaplanmeier-output-functions" class="anchor"></a>Kaplan–Meier Output Functions</h2>
<p><code><a href="../reference/pretty_km_output.html">pretty_km_output()</a></code> and <code><a href="../reference/run_pretty_km_output.html">run_pretty_km_output()</a></code> are used to produce professional tables with Kaplan–Meier median survival estimates, and the estimates at given time points, if listed. <code><a href="../reference/pretty_km_output.html">pretty_km_output()</a></code> uses a survfit object, while <code><a href="../reference/run_pretty_km_output.html">run_pretty_km_output()</a></code> uses the variables, and strata if applicable, and runs creates the survfit objects, also calculating the log-rank p value, if applicable.</p>
<p>Many details can be adjusted, such as title (will be added as column), strata name, confidence level, survival estimate prefix (default is “Time”), survival estimate, median estimate, and p value rounded digits, significant alpha level for highlighting along with color, italic, and bolding p value options, and latex or non-latex desired output.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1"></a>
<a class="sourceLine" id="cb18-2" title="2"><span class="co"># Using pretty_km_output() for a single comparisons</span></a>
<a class="sourceLine" id="cb18-3" title="3">surv_obj &lt;-<span class="st"> </span>survival<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/survival/topics/Surv">Surv</a></span>(Bladder_Cancer<span class="op">$</span>Survival_Months, </a>
<a class="sourceLine" id="cb18-4" title="4">                           Bladder_Cancer<span class="op">$</span>Vital_Status <span class="op">==</span><span class="st"> 'Dead'</span>)   </a>
<a class="sourceLine" id="cb18-5" title="5">downstage_fit &lt;-<span class="st"> </span>survival<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/survival/topics/survfit">survfit</a></span>(surv_obj <span class="op">~</span><span class="st"> </span>PT0N0, <span class="dt">data =</span> Bladder_Cancer)</a>
<a class="sourceLine" id="cb18-6" title="6"></a>
<a class="sourceLine" id="cb18-7" title="7"><span class="kw"><a href="../reference/pretty_km_output.html">pretty_km_output</a></span>(<span class="dt">fit =</span> downstage_fit, <span class="dt">time_est =</span> <span class="dv">60</span>, </a>
<a class="sourceLine" id="cb18-8" title="8">                 <span class="dt">surv_est_prefix =</span> <span class="st">'Month'</span>, <span class="dt">surv_est_digits =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb18-9" title="9"><span class="co">#&gt; # A tibble: 2 x 6</span></a>
<a class="sourceLine" id="cb18-10" title="10"><span class="co">#&gt;   Group Level                N `N Events` `Median Estimat… `Month:60`      </span></a>
<a class="sourceLine" id="cb18-11" title="11"><span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;            &lt;int&gt;      &lt;dbl&gt; &lt;chr&gt;            &lt;chr&gt;           </span></a>
<a class="sourceLine" id="cb18-12" title="12"><span class="co">#&gt; 1 PT0N0 No Completed Re…   131         57 48.7 (30.3, N.E… 0.493 (0.399, 0…</span></a>
<a class="sourceLine" id="cb18-13" title="13"><span class="co">#&gt; 2 PT0N0 Complete Respon…    35          2 N.E.             0.940 (0.863, 1…</span></a></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" title="1"><span class="co"># Using run_pretty_km_output() for multiple comparisons</span></a>
<a class="sourceLine" id="cb19-2" title="2"></a>
<a class="sourceLine" id="cb19-3" title="3"><span class="co"># First create vector of strata to compare (NA for no strate). </span></a>
<a class="sourceLine" id="cb19-4" title="4">vars_to_run =<span class="st"> </span><span class="kw">c</span>(<span class="ot">NA</span>, <span class="st">'Gender'</span>, <span class="st">'Clinical_Stage_Grouped'</span>, <span class="st">'PT0N0'</span>, <span class="st">'Any_Downstaging'</span>)</a>
<a class="sourceLine" id="cb19-5" title="5"></a>
<a class="sourceLine" id="cb19-6" title="6"><span class="co"># Next use purrr::map_dfr function to run the run_pretty_km_output() multiple times</span></a>
<a class="sourceLine" id="cb19-7" title="7">km_output &lt;-<span class="st"> </span>purrr<span class="op">::</span><span class="kw"><a href="https://purrr.tidyverse.org/reference/map.html">map_dfr</a></span>(</a>
<a class="sourceLine" id="cb19-8" title="8">  vars_to_run, run_pretty_km_output, <span class="dt">model_data =</span> Bladder_Cancer, </a>
<a class="sourceLine" id="cb19-9" title="9">  <span class="dt">time_in =</span> <span class="st">'Survival_Months'</span>, <span class="dt">event_in =</span> <span class="st">'Vital_Status'</span>, <span class="dt">event_level =</span> <span class="st">'Dead'</span>, </a>
<a class="sourceLine" id="cb19-10" title="10">  <span class="dt">time_est =</span> <span class="kw">c</span>(<span class="dv">24</span>,<span class="dv">60</span>), <span class="dt">surv_est_prefix =</span> <span class="st">'Month'</span>, <span class="dt">p_digits =</span> <span class="dv">5</span>, </a>
<a class="sourceLine" id="cb19-11" title="11">  <span class="dt">output_type =</span> <span class="st">'latex'</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb19-12" title="12"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(Group, Level, <span class="kw"><a href="https://dplyr.tidyverse.org/reference/reexports.html">everything</a></span>())</a>
<a class="sourceLine" id="cb19-13" title="13"></a>
<a class="sourceLine" id="cb19-14" title="14"><span class="co">#Finally use kableExtra to make fancy output</span></a>
<a class="sourceLine" id="cb19-15" title="15">kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/reexports">kable</a></span>(km_output, <span class="st">'latex'</span>, <span class="dt">escape =</span> F, <span class="dt">booktabs =</span> <span class="ot">TRUE</span>, <span class="dt">linesep =</span> <span class="st">''</span>, </a>
<a class="sourceLine" id="cb19-16" title="16">     <span class="dt">caption =</span> <span class="st">'Kaplan–Meier Output (Multiple Comparisons)'</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb19-17" title="17"><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/collapse_rows">collapse_rows</a></span>(<span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>), <span class="dt">row_group_label_position =</span> <span class="st">'stack'</span>,</a>
<a class="sourceLine" id="cb19-18" title="18">                            <span class="dt">headers_to_remove =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dt">latex_hline =</span> <span class="st">'major'</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb19-19" title="19"><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/kable_styling">kable_styling</a></span>(<span class="dt">font_size =</span> <span class="fl">7.5</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb19-20" title="20"><span class="st">  </span>kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/footnote">footnote</a></span>(<span class="st">'Survival Percentage Estimates at 24 and 60 Months'</span>)</a></code></pre></div>


</div>
</div>
<div id="utility-functions" class="section level1">
<h1 class="hasAnchor">
<a href="#utility-functions" class="anchor"></a>Utility Functions</h1>
<p><code><a href="../reference/round_away_0.html">round_away_0()</a></code> is a function to properly perform mathematical rounding (i.e. rounding away from 0 when tied), as opposed to the <code>round()</code> function, which rounds to the nearest even number when tied. Also <code><a href="../reference/round_away_0.html">round_away_0()</a></code> allows for trailing zeros (i.e. 0.100 if rounding to 3 digits).</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" title="1">vals_to_round =<span class="st"> </span><span class="kw">c</span>(<span class="ot">NA</span>,<span class="op">-</span><span class="fl">3.5</span><span class="op">:</span><span class="fl">3.5</span>)</a>
<a class="sourceLine" id="cb20-2" title="2">vals_to_round</a>
<a class="sourceLine" id="cb20-3" title="3"><span class="co">#&gt; [1]   NA -3.5 -2.5 -1.5 -0.5  0.5  1.5  2.5  3.5</span></a>
<a class="sourceLine" id="cb20-4" title="4"><span class="kw">round</span>(vals_to_round)</a>
<a class="sourceLine" id="cb20-5" title="5"><span class="co">#&gt; [1] NA -4 -2 -2  0  0  2  2  4</span></a>
<a class="sourceLine" id="cb20-6" title="6"><span class="kw"><a href="../reference/round_away_0.html">round_away_0</a></span>(vals_to_round)</a>
<a class="sourceLine" id="cb20-7" title="7"><span class="co">#&gt; [1] NA -4 -3 -2 -1  1  2  3  4</span></a>
<a class="sourceLine" id="cb20-8" title="8"><span class="kw"><a href="../reference/round_away_0.html">round_away_0</a></span>(vals_to_round, <span class="dt">digits =</span> <span class="dv">2</span>, <span class="dt">trailing_zeros =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb20-9" title="9"><span class="co">#&gt; [1] NA      "-3.50" "-2.50" "-1.50" "-0.50" "0.50"  "1.50"  "2.50"  "3.50"</span></a></code></pre></div>
<p><code><a href="../reference/get_session_info.html">get_session_info()</a></code> produces reproducible tables, which are great to add to the end of reports. The first table gives Software Session Information and the second table gives Software Package Version Information <code><a href="../reference/get_full_name.html">get_full_name()</a></code> is a function used by <code><a href="../reference/get_session_info.html">get_session_info()</a></code> to get the user’s name, based on user’s ID.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" title="1">my_session_info &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_session_info.html">get_session_info</a></span>()</a>
<a class="sourceLine" id="cb21-2" title="2"></a>
<a class="sourceLine" id="cb21-3" title="3">kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/reexports">kable</a></span>(my_session_info<span class="op">$</span>platform_table, <span class="st">'latex'</span>, <span class="dt">booktabs =</span> <span class="ot">TRUE</span>, </a>
<a class="sourceLine" id="cb21-4" title="4">      <span class="dt">linesep =</span> <span class="st">''</span>, <span class="dt">caption =</span> <span class="st">"Reproducibility Software Session Information"</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb21-5" title="5"><span class="st">      </span>kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/kable_styling">kable_styling</a></span>(<span class="dt">font_size =</span> <span class="dv">8</span>)</a></code></pre></div>

<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" title="1"></a>
<a class="sourceLine" id="cb22-2" title="2">kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/reexports">kable</a></span>(my_session_info<span class="op">$</span>packages_table, <span class="st">'latex'</span>, <span class="dt">booktabs =</span> <span class="ot">TRUE</span>, </a>
<a class="sourceLine" id="cb22-3" title="3">      <span class="dt">linesep =</span> <span class="st">''</span>, <span class="dt">caption =</span> <span class="st">"Reproducibility Software Package Version Information"</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb22-4" title="4"><span class="st">      </span>kableExtra<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/kableExtra/topics/kable_styling">kable_styling</a></span>(<span class="dt">font_size =</span> <span class="dv">8</span>)</a></code></pre></div>

</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#overview">Overview</a><ul class="nav nav-pills nav-stacked">
<li><a href="#getting-started">Getting Started</a></li>
      <li><a href="#moffitttemplates-package">MoffittTemplates Package</a></li>
      <li><a href="#example-dataset">Example Dataset</a></li>
      </ul>
</li>
      <li>
<a href="#testing-functions">Testing Functions</a><ul class="nav nav-pills nav-stacked">
<li><a href="#comparing-two-groups-binary-variable-for-a-binary-variable">Comparing Two Groups (Binary Variable) for a Binary Variable</a></li>
      <li><a href="#comparing-two-groups-binary-variable-for-a-continuous-variable">Comparing Two Groups (Binary Variable) for a Continuous Variable</a></li>
      <li><a href="#comparing-two-continuous-variables-correlation">Comparing Two Continuous Variables (Correlation)</a></li>
      </ul>
</li>
      <li>
<a href="#fancy-output-functions">Fancy Output Functions</a><ul class="nav nav-pills nav-stacked">
<li><a href="#p-values">P Values</a></li>
      <li><a href="#basic-combining-of-variables">Basic Combining of Variables</a></li>
      <li><a href="#advanced-combining-of-variables">Advanced Combining of Variables</a></li>
      <li><a href="#model-output-functions">Model Output Functions</a></li>
      <li><a href="#kaplanmeier-output-functions">Kaplan–Meier Output Functions</a></li>
      </ul>
</li>
      <li><a href="#utility-functions">Utility Functions</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Jimmy Fulp, Ram Thapa, Zachary Thompson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
